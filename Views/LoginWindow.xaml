<Window x:Class="Proyecto_taller.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Iniciar Sesión - Taller El Choco" 
        Height="550" 
        Width="450"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True">

    <Window.Resources>
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="15,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderBrush" Value="#4A90E2"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost"
                                        Padding="{TemplateBinding Padding}"
                                        VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernPasswordBox" TargetType="PasswordBox">
            <Setter Property="Padding" Value="15,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderBrush" Value="#4A90E2"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost"
                                        Padding="{TemplateBinding Padding}"
                                        VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="LoginButton" TargetType="Button">
            <Setter Property="Background" Value="#4A90E2"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="0,15"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#357ABD"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#2868A8"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Border BorderBrush="#4A90E2" BorderThickness="2" CornerRadius="15" Margin="0,0,0,-28">
        <Grid Margin="0,-7,-2,-2">
            <Grid.Effect>
                <DropShadowEffect Color="Black" Direction="270" ShadowDepth="5" BlurRadius="20" Opacity="0.3"/>
            </Grid.Effect>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="44*"/>
                <RowDefinition Height="123*"/>
                <RowDefinition Height="217*"/>
                <RowDefinition Height="0*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" 
                    Background="#2C3E50" 
                    CornerRadius="13,13,0,0"
                    Padding="20,25">
                <Grid>
                    <StackPanel HorizontalAlignment="Center">
                        <!-- Logo -->
                        <Border Width="80" Height="80" 
                                CornerRadius="40"
                                Background="White"
                                Margin="0,0,0,15">
                            <TextBlock Text="🔧" 
                                      FontSize="48" 
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
                        </Border>

                        <TextBlock Text="TALLER EL CHOCO" 
                                  FontSize="24" 
                                  FontWeight="Bold"
                                  Foreground="White"
                                  HorizontalAlignment="Center"/>
                        <TextBlock Text="Sistema de Gestión" 
                                  FontSize="13" 
                                  Foreground="White"
                                  HorizontalAlignment="Center"
                                  Margin="0,5,0,0"
                                  Opacity="0.9"/>
                    </StackPanel>

                    <!-- Botón cerrar -->
                    <Button Content="✕" 
                            Click="CloseButton_Click"
                            Background="Transparent"
                            Foreground="White"
                            BorderThickness="0"
                            FontSize="20"
                            FontWeight="Bold"
                            Cursor="Hand"
                            Padding="10,5"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"/>
                </Grid>
            </Border>

            <!-- Form Content -->
            <Border 
                    Background="White" 
                    CornerRadius="0,0,13,13"
                    Padding="40,30" Margin="0,199,10,0" Grid.RowSpan="4">
                <StackPanel>
                    <TextBlock Text="Iniciar Sesión" 
                              FontSize="20" 
                              FontWeight="Bold"
                              Foreground="#2C3E50"
                              HorizontalAlignment="Center"
                              Margin="0,0,0,30"/>

                    <!-- Usuario -->
                    <TextBlock Text="Usuario" 
                              FontSize="13" 
                              FontWeight="SemiBold"
                              Foreground="#34495E"
                              Margin="0,0,0,8"/>
                    <TextBox x:Name="txtUsuario"
                            Style="{StaticResource ModernTextBox}"
                            Margin="0,0,0,20"
                            KeyDown="TxtUsuario_KeyDown"/>

                    <!-- Contraseña -->
                    <TextBlock Text="Contraseña" 
                              FontSize="13" 
                              FontWeight="SemiBold"
                              Foreground="#34495E"
                              Margin="0,0,0,8"/>
                    <PasswordBox x:Name="txtPassword"
                                Style="{StaticResource ModernPasswordBox}"
                                Margin="0,0,0,10"
                                KeyDown="TxtPassword_KeyDown"/>

                    <!-- Recordar sesión -->
                    <CheckBox x:Name="chkRecordar"
                             Content="Recordar mi sesión"
                             Foreground="#7F8C8D"
                             FontSize="12"
                             Margin="0,0,0,25"/>

                    <!-- Botón Login -->
                    <Button Content="🔐 Ingresar al Sistema" 
                            Click="LoginButton_Click"
                            Style="{StaticResource LoginButton}"
                            Margin="0,0,0,20"/>

                    <!-- Mensaje de error -->
                    <Border x:Name="errorPanel"
                            Background="#FFEBEE"
                            BorderBrush="#E74C3C"
                            BorderThickness="1"
                            CornerRadius="5"
                            Padding="12"
                            Visibility="Collapsed"
                            Margin="0,0,0,15">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="⚠️" 
                                      FontSize="14" 
                                      Margin="0,0,8,0"
                                      VerticalAlignment="Center"/>
                            <TextBlock x:Name="txtError"
                                      Text="Usuario o contraseña incorrectos"
                                      FontSize="12"
                                      Foreground="#C0392B"
                                      TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>

                    <!-- Info de usuario por defecto -->
                    <!--<Border Background="#E8F4F8"
                            BorderBrush="#4A90E2"
                            BorderThickness="1"
                            CornerRadius="5"
                            Padding="15"
                            Margin="0,10,0,0">
                        -->
                    <!--<StackPanel>
                            <TextBlock Text="ℹ️ Credenciales por defecto:" 
                                      FontSize="12" 
                                      FontWeight="Bold"
                                      Foreground="#2C3E50"
                                      Margin="0,0,0,8"/>
                            <TextBlock FontSize="11" Foreground="#34495E" Margin="0,2">
                                <Run Text="👤 Administrador:"/>
                                <Run Text="admin / admin123" FontWeight="SemiBold"/>
                            </TextBlock>
                            <TextBlock FontSize="11" Foreground="#34495E" Margin="0,2">
                                <Run Text="👨‍🔧 Empleado:"/>
                                <Run Text="empleado / empleado123" FontWeight="SemiBold"/>
                            </TextBlock>
                        </StackPanel>-->
                    <!--
                    </Border>-->
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>